<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wealth.miniloan.dao.MlAppCheckResultMapper" >
  <update id="updateByLastStatus" parameterType="com.wealth.miniloan.entity.MlAppCheckResult" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 18 21:18:51 GMT+08:00 2014.
    -->
    update ml_app_check_result
    set APP_NO = #{appNo,jdbcType=VARCHAR},
      PREVIOUS_STEP = #{previousStep,jdbcType=VARCHAR},
      CURR_STEP = #{currStep,jdbcType=VARCHAR},
      NEXT_STEP = #{nextStep,jdbcType=VARCHAR},
      BEGIN_TIME = #{beginTime,jdbcType=TIMESTAMP},
      FINISH_TIME = #{finishTime,jdbcType=TIMESTAMP},
      STATUS = #{status,jdbcType=CHAR},
      HANDLER = #{handler,jdbcType=BIGINT},
      CHECK_DESC = #{checkDesc,jdbcType=VARCHAR}
    where CHECK_ID = (select a.CHECK_ID FROM (select MAX(CHECK_ID) CHECK_ID from ml_app_check_result where APP_NO = #{appNo,jdbcType=VARCHAR}) a)
  </update>
</mapper>